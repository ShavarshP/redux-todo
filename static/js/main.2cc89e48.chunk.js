(this["webpackJsonpredux-todo"]=this["webpackJsonpredux-todo"]||[]).push([[0],{10:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"setAllTasks",(function(){return k})),n.d(a,"asyncSetAllTasks",(function(){return y})),n.d(a,"setShow",(function(){return m})),n.d(a,"setTaskFromData",(function(){return g})),n.d(a,"showing",(function(){return w})),n.d(a,"cancel",(function(){return D})),n.d(a,"deleteData",(function(){return S})),n.d(a,"edit",(function(){return T}));var c=n(0),r=n(7),s=n.n(r),o=n(13),i=n(6),u=n(3),d=n(4),l=n(2),f=n(12),j=n.n(f),x=n(15),b=function(t,e){try{var n=JSON.stringify(e);localStorage.setItem(t,n)}catch(a){throw new Error("Can't save changes in local storage")}},p="CREAT_NEW_TASK",O="IS_SHOW_TASK",h="TASK_FROM_DATA",v="SHOWING_DATA",k=function(t){return function(e){b("todo",t),e({type:p,payload:t})}},y=function(t){return function(){var e=Object(x.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){b("todo",t),n({type:p,payload:t})}),1e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(t){return function(e){e({type:O,payload:t})}},g=function(t){return function(e){e({type:h,payload:t})}},w=function(t){return function(e){e({type:v,payload:t})}},D=function(t){return function(e){var n=t.tasks.map((function(t){return{text:t.text,isDone:!1,edit:!0}}));e({type:h,payload:{data:t.data,tasks:n}})}},S=function(t,e){return function(n){var a=t.map((function(t){return t.data===e.data?{data:t.data,tasks:t.tasks.filter((function(t){if(t.text!==e.text)return t}))}:t}));b("todo",a),n({type:p,payload:a})}},T=function(t,e){return function(n){var a=t.tasks.map((function(t){return t.text===e?{text:t.text,isDone:!1,edit:!1}:{text:t.text,isDone:!1,edit:!0}}));n({type:h,payload:{data:t.data,tasks:a}})}},C=Object(l.a)({},a),A=function(){var t=Object(u.b)();return Object(d.b)(C,t)},N=(n(10),n(1)),F=function(t){var e=t.data,n=A().showing,a=e.map((function(t,e){return Object(N.jsx)("div",{onClick:function(){return n(t)},className:"taskByData",children:Object(N.jsx)("div",{className:"tab",children:Object(N.jsxs)("label",{onClick:function(){return n(t)},className:"tab-label",htmlFor:"rd1",children:[t.data," - (",t.tasks.length,")"]})})},e)}));return Object(N.jsx)("div",{className:"data_box",children:a})},_=function(t){var e=t.save,n=t.checkbox,a=Object(u.c)((function(t){return t.todo})),r=a.allTasks,s=a.taskFromData,o=A(),d=o.deleteData,l=o.edit,f=o.cancel,j=o.setTaskFromData,x=Object(c.useState)(""),b=Object(i.a)(x,2),p=b[0],O=b[1],h=A().setShow;Object(c.useEffect)((function(){O("")}),[s]);var v=s.tasks,k=r.find((function(t){return t.data===s.data}));Object(c.useEffect)((function(){j(k)}),[k.tasks.length]);var y=Object(c.useMemo)((function(){return v.map((function(t,a){return Object(N.jsxs)("div",{className:"field",style:{backgroundColor:"white",width:"500px",margin:"10px"},children:[t.edit?Object(N.jsx)("input",{type:"checkbox",style:{marginTop:"7px",width:"25px",height:"25px"},onChange:function(){return n({text:t.text,data:s.data})},checked:t.isDone}):Object(N.jsx)(N.Fragment,{}),t.edit?Object(N.jsx)("sub",{style:{width:"400px",fontSize:"124%",display:"flex",justifyContent:"center",alignItems:"center"},children:t.text}):Object(N.jsx)("input",{style:{width:"400px",fontSize:"105%"},onChange:p?function(t){O(t.target.value)}:O(t.text),value:p}),Object(N.jsx)("button",{onClick:function(){return t.edit?void l(s,t.text):e({text:t.text,newText:p,data:s.data})},children:t.edit?"edit":"save"}),Object(N.jsx)("button",{style:{marginLeft:"1px"},onClick:function(){return t.edit?d(r,{text:t.text,data:s.data}):f(s)},children:t.edit?"delete":"cancel"})]},a)}))}),[s,k.tasks.length,p]);return Object(N.jsxs)("div",{className:"tasks_for_day_box",children:[Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)("button",{onClick:function(){return h(!1)},style:{padding:"10px",backgroundColor:"#819090"},children:"Close"}),Object(N.jsx)("div",{children:s.data})]}),Object(N.jsx)("div",{children:y})]})};var I=function(){var t=Object(c.useState)(""),e=Object(i.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),d=s[0],l=s[1],f=Object(u.c)((function(t){return t.todo})),j=f.allTasks,x=f.show,b=A(),p=b.setAllTasks,O=b.setTaskFromData,h=b.asyncSetAllTasks,v=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n){var e=j.some((function(t,e,n){return t.data===d}));if(!e){var c=[].concat(Object(o.a)(j),[{data:d,tasks:[{text:n,isDone:!1,edit:!0}]}]);return t?h(c):p(c),a(""),void l("")}var r=j.map((function(t){return t.data===d?{data:t.data,tasks:[].concat(Object(o.a)(t.tasks),[{text:n,isDone:!1,edit:!0}])}:t}));t?h(r):p(r),a(""),l("")}};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)("div",{className:"mainScreen",children:[Object(N.jsxs)("div",{className:"field",children:[Object(N.jsx)("input",{type:"text",value:n,onChange:function(t){a(t.target.value)},placeholder:"New task"}),Object(N.jsx)("input",{type:"date",value:d,onChange:function(t){l(t.target.value)}}),Object(N.jsx)("button",{type:"button",onClick:function(){return v(!1)},children:"Add"}),Object(N.jsx)("button",{type:"button",style:{marginLeft:"3px"},onClick:function(){return v(!0)},children:"Add Async"})]}),Object(N.jsxs)("div",{style:{display:"flex"},children:[Object(N.jsx)(F,{data:j}),x?Object(N.jsx)(_,{checkbox:function(t){var e=j.map((function(e){if(e.data===t.data){var n={data:e.data,tasks:e.tasks.map((function(e){return e.text===t.text?{text:e.text,isDone:!e.isDone,edit:!0}:e}))};return O(n),n}return e}));p(e)},save:function(t){var e=j.map((function(e){if(e.data===t.data){var n={data:e.data,tasks:e.tasks.map((function(e){return e.text===t.text?{text:t.newText,isDone:!1,edit:!0}:e}))};return O(n),n}return e}));p(e)}}):null]})]})})})},E=function(){return Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(I,{})})})},J=n(16),K={allTasks:localStorage.getItem("todo")?JSON.parse(localStorage.getItem("todo")):[],show:!1,taskFromData:[]},W=Object(d.c)({todo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return Object(l.a)(Object(l.a)({},t),{},{show:e.payload});case p:return Object(l.a)(Object(l.a)({},t),{},{allTasks:e.payload});case h:return Object(l.a)(Object(l.a)({},t),{},{taskFromData:e.payload});case v:return Object(l.a)(Object(l.a)({},t),{},{taskFromData:e.payload,show:!0});default:return t}}}),z=Object(d.d)(W,Object(d.a)(J.a));s.a.render(Object(N.jsx)(u.a,{store:z,children:Object(N.jsx)(E,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.2cc89e48.chunk.js.map